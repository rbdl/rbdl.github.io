<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rigid Body Dynamics Library: BalanceToolkit Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Rigid Body Dynamics Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/da8/class_rigid_body_dynamics_1_1_addons_1_1_balance_1_1_balance_toolkit.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">BalanceToolkit Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../dc/d8f/_balance_toolkit_8h_source.html">BalanceToolkit.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a17ccae9d02981224b24c284ef8dbf315"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/da8/class_rigid_body_dynamics_1_1_addons_1_1_balance_1_1_balance_toolkit.html#a17ccae9d02981224b24c284ef8dbf315">CalculateFootPlacementEstimator</a> (Model &amp;model, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;q, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;qdot, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;pointOnGroundPlane, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;groundPlaneNormal, <a class="el" href="../../d3/dc1/struct_rigid_body_dynamics_1_1_addons_1_1_balance_1_1_foot_placement_estimator_info.html">FootPlacementEstimatorInfo</a> &amp;fpeInfo, double smallAngularVelocity, bool evaluate_derivatives, bool update_kinematics)</td></tr>
<tr class="separator:a17ccae9d02981224b24c284ef8dbf315"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dc/d8f/_balance_toolkit_8h_source.html#l00297">297</a> of file <a class="el" href="../../dc/d8f/_balance_toolkit_8h_source.html">BalanceToolkit.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a17ccae9d02981224b24c284ef8dbf315" name="a17ccae9d02981224b24c284ef8dbf315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ccae9d02981224b24c284ef8dbf315">&#9670;&nbsp;</a></span>CalculateFootPlacementEstimator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CalculateFootPlacementEstimator </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>qdot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>pointOnGroundPlane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>groundPlaneNormal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dc1/struct_rigid_body_dynamics_1_1_addons_1_1_balance_1_1_foot_placement_estimator_info.html">FootPlacementEstimatorInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>fpeInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>smallAngularVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>evaluate_derivatives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section author"><dt>Author</dt><dd>Matthew Millard </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 January 2020</dd></dl>
<p>This function implements the 3D FPE described in Millard et al. and the sensitivity analysis described in the supplementary material of Sloot et al.</p>
<p >Millard M, McPhee J, Kubica E. Foot placement and balance in 3D. Journal of computational and nonlinear dynamics. 2012 Apr 1;7(2).</p>
<p >Sloot LH, Millard M, Werner C, Mombaur K. Slow but Steady: Similar Sit-to-Stand <a class="el" href="../../dd/ddc/namespace_rigid_body_dynamics_1_1_addons_1_1_balance.html">Balance</a> at Seat-Off in Older vs. Younger Adults. Frontiers in sports and active living. 2020;2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The multibody model </td></tr>
    <tr><td class="paramname">q</td><td>The generalized coordinates of the model </td></tr>
    <tr><td class="paramname">qdot</td><td>The generalized velocities of the model </td></tr>
    <tr><td class="paramname">pointOnGroundPlane</td><td>The coordinates of a point on the ground plane in the coordinates of the base frame. </td></tr>
    <tr><td class="paramname">groundPlaneNormal</td><td>The normal direction of the plane, in the coordinates of the base frame. Note that the current version of the FPE assumes that the normal opposes the gravity vector of the model. Under these assumptions the 3D FPE can be evaluated for a flat plane, or a succession of flat planes (like stairs). </td></tr>
    <tr><td class="paramname">fpeInfo</td><td>The struct that contains the FPE location, the numerical accuracy of the solution, the state and parameters of the projected model, the projection error, and all of the derivatives of the FPE which can be used to estimate the accuracy of the FPE for a non-idealized solution. </td></tr>
    <tr><td class="paramname">smallAngularVelocity</td><td>(rad/s) The definition of the n vector requires a non-zero value for the angular momentum about the center-of-mass ground projection point. This results in a numerically undefined quantity if the model is at rest. Instead we let this vector go to zero before that, and set phi to point straight down. Which brings us to the next point: this implementation is not continuous as the system's angular velocity about point P crosses this small angular velocity. </td></tr>
    <tr><td class="paramname">evaluate_derivatives</td><td>The calculations to perform the sensitivity analysis on the solution of the FPE are lengthy scalar equations. Unless you need the derivatives set this option to false to save yourself a bit of computation. </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>Use this to indicate if the model's kinematic transforms need to be updated or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible to derive the FPE constraint equation for assuming that the ground plane is tilted. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>addons/balance/<a class="el" href="../../dc/d8f/_balance_toolkit_8h_source.html">BalanceToolkit.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d16/namespace_rigid_body_dynamics.html">RigidBodyDynamics</a></li><li class="navelem"><a class="el" href="../../d6/db6/namespace_rigid_body_dynamics_1_1_addons.html">Addons</a></li><li class="navelem"><a class="el" href="../../dd/ddc/namespace_rigid_body_dynamics_1_1_addons_1_1_balance.html">Balance</a></li><li class="navelem"><a class="el" href="../../d4/da8/class_rigid_body_dynamics_1_1_addons_1_1_balance_1_1_balance_toolkit.html">BalanceToolkit</a></li>
    <li class="footer">Generated on Wed Jul 20 2022 12:57:44 for Rigid Body Dynamics Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
