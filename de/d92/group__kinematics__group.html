<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rigid Body Dynamics Library: Kinematics</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Rigid Body Dynamics Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d92/group__kinematics__group.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Kinematics</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/struct_rigid_body_dynamics_1_1_inverse_kinematics_constraint_set.html">InverseKinematicsConstraintSet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0d31fd661b541e25d45f950189928964"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964">UpdateKinematics</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDot, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDDot)</td></tr>
<tr class="memdesc:ga0d31fd661b541e25d45f950189928964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates and computes velocities and accelerations of the bodies.  <a href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964">More...</a><br /></td></tr>
<tr class="separator:ga0d31fd661b541e25d45f950189928964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86477e3d5ad2147abced4323f349c549"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga86477e3d5ad2147abced4323f349c549">UpdateKinematicsCustom</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *QDot, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *QDDot)</td></tr>
<tr class="memdesc:ga86477e3d5ad2147abced4323f349c549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selectively updates model internal states of body positions, velocities and/or accelerations.  <a href="../../de/d92/group__kinematics__group.html#ga86477e3d5ad2147abced4323f349c549">More...</a><br /></td></tr>
<tr class="separator:ga86477e3d5ad2147abced4323f349c549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6555188cf8a68fe78c13063c7ffec444"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Vector3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga6555188cf8a68fe78c13063c7ffec444">CalcBodyToBaseCoordinates</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;body_point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:ga6555188cf8a68fe78c13063c7ffec444"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base coordinates of a point given in body coordinates.  <a href="../../de/d92/group__kinematics__group.html#ga6555188cf8a68fe78c13063c7ffec444">More...</a><br /></td></tr>
<tr class="separator:ga6555188cf8a68fe78c13063c7ffec444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac97b34177c2973ae953959e1b199dd17"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Vector3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gac97b34177c2973ae953959e1b199dd17">CalcBaseToBodyCoordinates</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;base_point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:gac97b34177c2973ae953959e1b199dd17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the body coordinates of a point given in base coordinates.  <a href="../../de/d92/group__kinematics__group.html#gac97b34177c2973ae953959e1b199dd17">More...</a><br /></td></tr>
<tr class="separator:gac97b34177c2973ae953959e1b199dd17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00cdd9a7fa9fcd32af46aee98c82ce0c"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a0a52243d8fc9637b5f77fb50d87da506">Matrix3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga00cdd9a7fa9fcd32af46aee98c82ce0c">CalcBodyWorldOrientation</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const unsigned int body_id, bool update_kinematics=true)</td></tr>
<tr class="memdesc:ga00cdd9a7fa9fcd32af46aee98c82ce0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the orientation of a given body as 3x3 matrix.  <a href="../../de/d92/group__kinematics__group.html#ga00cdd9a7fa9fcd32af46aee98c82ce0c">More...</a><br /></td></tr>
<tr class="separator:ga00cdd9a7fa9fcd32af46aee98c82ce0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6fb7d23482d5de3975a0d530f8eab33"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gac6fb7d23482d5de3975a0d530f8eab33">CalcPointJacobian</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;G, bool update_kinematics=true)</td></tr>
<tr class="memdesc:gac6fb7d23482d5de3975a0d530f8eab33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the point jacobian for a point on a body.  <a href="../../de/d92/group__kinematics__group.html#gac6fb7d23482d5de3975a0d530f8eab33">More...</a><br /></td></tr>
<tr class="separator:gac6fb7d23482d5de3975a0d530f8eab33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f108816ae5935fed35c7f6d5633e3f4"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga4f108816ae5935fed35c7f6d5633e3f4">CalcPointJacobian6D</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;G, bool update_kinematics=true)</td></tr>
<tr class="memdesc:ga4f108816ae5935fed35c7f6d5633e3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a 6-D Jacobian for a point on a body.  <a href="../../de/d92/group__kinematics__group.html#ga4f108816ae5935fed35c7f6d5633e3f4">More...</a><br /></td></tr>
<tr class="separator:ga4f108816ae5935fed35c7f6d5633e3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga231c617679d168c57c40fe0169484200"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga231c617679d168c57c40fe0169484200">CalcBodySpatialJacobian</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, unsigned int body_id, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;G, bool update_kinematics=true)</td></tr>
<tr class="memdesc:ga231c617679d168c57c40fe0169484200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the spatial jacobian for a body.  <a href="../../de/d92/group__kinematics__group.html#ga231c617679d168c57c40fe0169484200">More...</a><br /></td></tr>
<tr class="separator:ga231c617679d168c57c40fe0169484200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada216dda9915ee446f75325f97248682"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Vector3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gada216dda9915ee446f75325f97248682">CalcPointVelocity</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDot, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:gada216dda9915ee446f75325f97248682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the velocity of a point on a body.  <a href="../../de/d92/group__kinematics__group.html#gada216dda9915ee446f75325f97248682">More...</a><br /></td></tr>
<tr class="separator:gada216dda9915ee446f75325f97248682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8af93d9e09c700f43db8de4152ffff8"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a3e84ee221851d9f8b98a4f729f0f0ca2">Math::SpatialVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gaf8af93d9e09c700f43db8de4152ffff8">CalcPointVelocity6D</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDot, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:gaf8af93d9e09c700f43db8de4152ffff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes angular and linear velocity of a point that is fixed on a body.  <a href="../../de/d92/group__kinematics__group.html#gaf8af93d9e09c700f43db8de4152ffff8">More...</a><br /></td></tr>
<tr class="separator:gaf8af93d9e09c700f43db8de4152ffff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafde1b4fb36ebcfe6a79aefdab49581c2"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Vector3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gafde1b4fb36ebcfe6a79aefdab49581c2">CalcPointAcceleration</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDot, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDDot, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:gafde1b4fb36ebcfe6a79aefdab49581c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the linear acceleration of a point on a body.  <a href="../../de/d92/group__kinematics__group.html#gafde1b4fb36ebcfe6a79aefdab49581c2">More...</a><br /></td></tr>
<tr class="separator:gafde1b4fb36ebcfe6a79aefdab49581c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ea6f81340afbd5c3aa0a238504b6b91"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a3e84ee221851d9f8b98a4f729f0f0ca2">SpatialVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga6ea6f81340afbd5c3aa0a238504b6b91">CalcPointAcceleration6D</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Q, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDot, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;QDDot, unsigned int body_id, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;point_position, bool update_kinematics=true)</td></tr>
<tr class="memdesc:ga6ea6f81340afbd5c3aa0a238504b6b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes linear and angular acceleration of a point on a body.  <a href="../../de/d92/group__kinematics__group.html#ga6ea6f81340afbd5c3aa0a238504b6b91">More...</a><br /></td></tr>
<tr class="separator:ga6ea6f81340afbd5c3aa0a238504b6b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae99a5094d7dabbe877c01b66868b334f"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gae99a5094d7dabbe877c01b66868b334f">InverseKinematics</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Qinit, const std::vector&lt; unsigned int &gt; &amp;body_id, const std::vector&lt; <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &gt; &amp;body_point, const std::vector&lt; <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &gt; &amp;target_pos, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Qres, double step_tol=1.0e-12, double lambda=0.01, unsigned int max_iter=55)</td></tr>
<tr class="memdesc:gae99a5094d7dabbe877c01b66868b334f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the inverse kinematics iteratively using a damped Levenberg-Marquardt method (also known as Damped Least Squares method)  <a href="../../de/d92/group__kinematics__group.html#gae99a5094d7dabbe877c01b66868b334f">More...</a><br /></td></tr>
<tr class="separator:gae99a5094d7dabbe877c01b66868b334f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga140cb5e0796f8d0fc9e2d1f4b3055e64"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Vector3d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#ga140cb5e0796f8d0fc9e2d1f4b3055e64">CalcAngularVelocityfromMatrix</a> (const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a0a52243d8fc9637b5f77fb50d87da506">Matrix3d</a> &amp;RotMat)</td></tr>
<tr class="separator:ga140cb5e0796f8d0fc9e2d1f4b3055e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee27e8700afaea590a843138e1e9799d"><td class="memItemLeft" align="right" valign="top">RBDL_DLLAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d92/group__kinematics__group.html#gaee27e8700afaea590a843138e1e9799d">InverseKinematics</a> (Model &amp;model, const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Qinit, <a class="el" href="../../d5/d19/struct_rigid_body_dynamics_1_1_inverse_kinematics_constraint_set.html">InverseKinematicsConstraintSet</a> &amp;CS, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;Qres)</td></tr>
<tr class="separator:gaee27e8700afaea590a843138e1e9799d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section note"><dt>Note</dt><dd>Please note that in the Rigid Body Dynamics Library all angles are specified in radians. </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga140cb5e0796f8d0fc9e2d1f4b3055e64" name="ga140cb5e0796f8d0fc9e2d1f4b3055e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga140cb5e0796f8d0fc9e2d1f4b3055e64">&#9670;&nbsp;</a></span>CalcAngularVelocityfromMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> CalcAngularVelocityfromMatrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a0a52243d8fc9637b5f77fb50d87da506">Matrix3d</a> &amp;&#160;</td>
          <td class="paramname"><em>RotMat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00699">699</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/_m_x___xd__utils_8h_source.html#l00360">std::atan2()</a>, and <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#ae65d73ca9f35081b80df981f50071afd">RigidBodyDynamics::Math::Vector3dZero</a>.</p>

</div>
</div>
<a id="gac97b34177c2973ae953959e1b199dd17" name="gac97b34177c2973ae953959e1b199dd17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac97b34177c2973ae953959e1b199dd17">&#9670;&nbsp;</a></span>CalcBaseToBodyCoordinates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> CalcBaseToBodyCoordinates </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>base_point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the body coordinates of a point given in base coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>the curent genereralized positions </td></tr>
    <tr><td class="paramname">body_id</td><td>id of the body for which the point coordinates are expressed </td></tr>
    <tr><td class="paramname">base_point_position</td><td>coordinates of the point in base coordinates </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a 3-D vector with coordinates of the point in body coordinates </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00190">190</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="ga231c617679d168c57c40fe0169484200" name="ga231c617679d168c57c40fe0169484200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga231c617679d168c57c40fe0169484200">&#9670;&nbsp;</a></span>CalcBodySpatialJacobian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI void CalcBodySpatialJacobian </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the spatial jacobian for a body. </p>
<p >The spatial velocity of a body at the origin of coordinate system of body <img class="formulaInl" alt="$i$" src="../../form_161.png"/> can be expressed as <img class="formulaInl" alt="${}^i \hat{v}_i = G(q) * \dot{q}$" src="../../form_162.png"/>. The matrix <img class="formulaInl" alt="$G(q)$" src="../../form_159.png"/> is called the spatial body jacobian of the body and can be computed using this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">G</td><td>a matrix of size 6 x #qdot_size where the result will be stored in </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<p>The result will be returned via the G argument and represents the body Jacobian expressed at the origin of the body.</p>
<dl class="section note"><dt>Note</dt><dd>This function only evaluates the entries of G that are non-zero. One Before calling this function one has to ensure that all other values have been set to zero, e.g. by calling G.setZero(). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00370">370</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00108">MX_Xd_dynamic::block()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00099">MX_Xd_dynamic::cols()</a>, <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00295">SpatialTransform::inverse()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00095">MX_Xd_dynamic::rows()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="ga6555188cf8a68fe78c13063c7ffec444" name="ga6555188cf8a68fe78c13063c7ffec444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6555188cf8a68fe78c13063c7ffec444">&#9670;&nbsp;</a></span>CalcBodyToBaseCoordinates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> CalcBodyToBaseCoordinates </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>body_point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the base coordinates of a point given in body coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>the curent genereralized positions </td></tr>
    <tr><td class="paramname">body_id</td><td>id of the body for which the point coordinates are expressed </td></tr>
    <tr><td class="paramname">body_point_position</td><td>coordinates of the point in body coordinates </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a 3-D vector with coordinates of the point in base coordinates </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">157</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="ga00cdd9a7fa9fcd32af46aee98c82ce0c" name="ga00cdd9a7fa9fcd32af46aee98c82ce0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00cdd9a7fa9fcd32af46aee98c82ce0c">&#9670;&nbsp;</a></span>CalcBodyWorldOrientation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a0a52243d8fc9637b5f77fb50d87da506">Math::Matrix3d</a> CalcBodyWorldOrientation </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the orientation of a given body as 3x3 matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>the curent genereralized positions </td></tr>
    <tr><td class="paramname">body_id</td><td>id of the body for which the point coordinates are expressed </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An orthonormal 3x3 matrix that rotates vectors from base coordinates to body coordinates. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">222</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="gafde1b4fb36ebcfe6a79aefdab49581c2" name="gafde1b4fb36ebcfe6a79aefdab49581c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafde1b4fb36ebcfe6a79aefdab49581c2">&#9670;&nbsp;</a></span>CalcPointAcceleration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> CalcPointAcceleration </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the linear acceleration of a point on a body. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">QDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">QDDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cartesian acceleration of the point in global frame (output)</dd></dl>
<p>The kinematic state of the model has to be updated before valid values can be obtained. This can either be done by calling <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> or setting the last parameter update_kinematics to true (default).</p>
<dl class="section warning"><dt>Warning</dt><dd>If this function is called after <a class="el" href="../../d6/d63/group__dynamics__group.html#gab0a1893d35ea090e594166a97bdda616" title="Computes forward dynamics with the Articulated Body Algorithm.">ForwardDynamics()</a> without an update of the kinematic state one has to add the gravity acceleration has to be added to the result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00515">515</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00190">RigidBodyDynamics::CalcBaseToBodyCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">RigidBodyDynamics::CalcBodyWorldOrientation()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00025">RigidBodyDynamics::UpdateKinematics()</a>.</p>

</div>
</div>
<a id="ga6ea6f81340afbd5c3aa0a238504b6b91" name="ga6ea6f81340afbd5c3aa0a238504b6b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ea6f81340afbd5c3aa0a238504b6b91">&#9670;&nbsp;</a></span>CalcPointAcceleration6D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a3e84ee221851d9f8b98a4f729f0f0ca2">Math::SpatialVector</a> CalcPointAcceleration6D </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes linear and angular acceleration of a point on a body. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">QDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">QDDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 6-D vector where the first three elements are the angular acceleration and the last three elements the linear accelerations of the point.</dd></dl>
<p>The kinematic state of the model has to be updated before valid values can be obtained. This can either be done by calling <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> or setting the last parameter update_kinematics to true (default).</p>
<dl class="section warning"><dt>Warning</dt><dd>If this function is called after <a class="el" href="../../d6/d63/group__dynamics__group.html#gab0a1893d35ea090e594166a97bdda616" title="Computes forward dynamics with the Articulated Body Algorithm.">ForwardDynamics()</a> without an update of the kinematic state one has to add the gravity acceleration has to be added to the result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00562">562</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00190">RigidBodyDynamics::CalcBaseToBodyCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">RigidBodyDynamics::CalcBodyWorldOrientation()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00025">RigidBodyDynamics::UpdateKinematics()</a>.</p>

</div>
</div>
<a id="gac6fb7d23482d5de3975a0d530f8eab33" name="gac6fb7d23482d5de3975a0d530f8eab33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6fb7d23482d5de3975a0d530f8eab33">&#9670;&nbsp;</a></span>CalcPointJacobian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI void CalcPointJacobian </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the point jacobian for a point on a body. </p>
<p >If a position of a point is computed by a function <img class="formulaInl" alt="$g(q(t))$" src="../../form_157.png"/> for which its time derivative is <img class="formulaInl" alt="$\frac{d}{dt} g(q(t)) = G(q)\dot{q}$" src="../../form_158.png"/> then this function computes the jacobian matrix <img class="formulaInl" alt="$G(q)$" src="../../form_159.png"/>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">G</td><td>a matrix of dimensions 3 x #qdot_size where the result will be stored in </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<p>The result will be returned via the G argument.</p>
<dl class="section note"><dt>Note</dt><dd>This function only evaluates the entries of G that are non-zero. One Before calling this function one has to ensure that all other values have been set to zero, e.g. by calling G.setZero(). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00244">244</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00108">MX_Xd_dynamic::block()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00099">MX_Xd_dynamic::cols()</a>, <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00295">SpatialTransform::inverse()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00095">MX_Xd_dynamic::rows()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="ga4f108816ae5935fed35c7f6d5633e3f4" name="ga4f108816ae5935fed35c7f6d5633e3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f108816ae5935fed35c7f6d5633e3f4">&#9670;&nbsp;</a></span>CalcPointJacobian6D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI void CalcPointJacobian6D </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#aa98b9390985e1e5ec247ec79d50dffe0">Math::MatrixNd</a> &amp;&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a 6-D Jacobian for a point on a body. </p>
<p >Computes the 6-D Jacobian <img class="formulaInl" alt="$G(q)$" src="../../form_159.png"/> that when multiplied with <img class="formulaInl" alt="$\dot{q}$" src="../../form_160.png"/> gives a 6-D vector that has the angular velocity as the first three entries and the linear velocity as the last three entries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">G</td><td>a matrix of dimensions 6 x #qdot_size where the result will be stored in </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<p>The result will be returned via the G argument.</p>
<dl class="section note"><dt>Note</dt><dd>This function only evaluates the entries of G that are non-zero. One Before calling this function one has to ensure that all other values have been set to zero, e.g. by calling G.setZero(). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00308">308</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00108">MX_Xd_dynamic::block()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00099">MX_Xd_dynamic::cols()</a>, <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00295">SpatialTransform::inverse()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00095">MX_Xd_dynamic::rows()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="gada216dda9915ee446f75325f97248682" name="gada216dda9915ee446f75325f97248682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada216dda9915ee446f75325f97248682">&#9670;&nbsp;</a></span>CalcPointVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> CalcPointVelocity </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the velocity of a point on a body. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">QDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cartesian velocity of the point in global frame (output) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00434">434</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00190">RigidBodyDynamics::CalcBaseToBodyCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">RigidBodyDynamics::CalcBodyWorldOrientation()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00103">MX_Xd_dynamic::size()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="gaf8af93d9e09c700f43db8de4152ffff8" name="gaf8af93d9e09c700f43db8de4152ffff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8af93d9e09c700f43db8de4152ffff8">&#9670;&nbsp;</a></span>CalcPointVelocity6D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a3e84ee221851d9f8b98a4f729f0f0ca2">Math::SpatialVector</a> CalcPointVelocity6D </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &amp;&#160;</td>
          <td class="paramname"><em>point_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_kinematics</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes angular and linear velocity of a point that is fixed on a body. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Q</td><td>state vector of the internal joints </td></tr>
    <tr><td class="paramname">QDot</td><td>velocity vector of the internal joints </td></tr>
    <tr><td class="paramname">body_id</td><td>the id of the body </td></tr>
    <tr><td class="paramname">point_position</td><td>the position of the point in body-local data </td></tr>
    <tr><td class="paramname">update_kinematics</td><td>whether <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> should be called or not (default: true)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The a 6-D vector for which the first three elements are the angular velocity and the last three elements the linear velocity in the global reference system. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00478">478</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00159">SpatialTransform::apply()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00190">RigidBodyDynamics::CalcBaseToBodyCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">RigidBodyDynamics::CalcBodyWorldOrientation()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00103">MX_Xd_dynamic::size()</a>, and <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>.</p>

</div>
</div>
<a id="gae99a5094d7dabbe877c01b66868b334f" name="gae99a5094d7dabbe877c01b66868b334f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae99a5094d7dabbe877c01b66868b334f">&#9670;&nbsp;</a></span>InverseKinematics() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI bool InverseKinematics </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Qinit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>body_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>body_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a7767bdaca432311831fb667184fb65d5">Math::Vector3d</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>target_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Qres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>step_tol</em> = <code>1.0e-12</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lambda</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_iter</em> = <code>55</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the inverse kinematics iteratively using a damped Levenberg-Marquardt method (also known as Damped Least Squares method) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>rigid body model </td></tr>
    <tr><td class="paramname">Qinit</td><td>initial guess for the state </td></tr>
    <tr><td class="paramname">body_id</td><td>a vector of all bodies for which we we have kinematic target positions </td></tr>
    <tr><td class="paramname">body_point</td><td>a vector of points in body local coordinates that are to be matched to target positions </td></tr>
    <tr><td class="paramname">target_pos</td><td>a vector of target positions </td></tr>
    <tr><td class="paramname">Qres</td><td>output of the computed inverse kinematics </td></tr>
    <tr><td class="paramname">step_tol</td><td>tolerance used for convergence detection </td></tr>
    <tr><td class="paramname">lambda</td><td>damping factor for the least squares function </td></tr>
    <tr><td class="paramname">max_iter</td><td>maximum number of steps that should be performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise</dd></dl>
<p>This function repeatedly computes </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ Qres = Qres + \Delta \theta\]" src="../../form_163.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \Delta \theta = G^T (G^T G + \lambda^2 I)^{-1} e \]" src="../../form_164.png"/>
</p>
<p> where <img class="formulaInl" alt="$G = G(q) = \frac{d}{dt} g(q(t))$" src="../../form_165.png"/> and <img class="formulaInl" alt="$e$" src="../../form_166.png"/> is the correction of the body points so that they coincide with the target positions. The function returns true when <img class="formulaInl" alt="$||\Delta \theta||_2 \le$" src="../../form_167.png"/> step_tol or if the error between body points and target gets smaller than step_tol. Otherwise it returns false.</p>
<p >The parameter <img class="formulaInl" alt="$\lambda$" src="../../form_35.png"/> is the damping factor that has to be chosen carefully. In case of unreachable positions higher values (e.g 0.9) can be helpful. Otherwise values of 0.0001, 0.001, 0.01, 0.1 might yield good results. See the literature for best practices.</p>
<dl class="section warning"><dt>Warning</dt><dd>The actual accuracy might be rather low (~1.0e-2)! Use this function with a grain of suspicion. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00605">605</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00244">RigidBodyDynamics::CalcPointJacobian()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00068">MX_Xd_dynamic::Identity()</a>, <a class="el" href="../../df/d59/rbdl__mathutils_8cc_source.html#l00037">RigidBodyDynamics::Math::LinSolveGaussElimPivot()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00171">MX_Xd_dynamic::norm()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00055">MX_Xd_dynamic::setZero()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00103">MX_Xd_dynamic::size()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00179">MX_Xd_dynamic::squaredNorm()</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00159">MX_Xd_dynamic::transpose()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>, and <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00052">MX_Xd_dynamic::Zero()</a>.</p>

</div>
</div>
<a id="gaee27e8700afaea590a843138e1e9799d" name="gaee27e8700afaea590a843138e1e9799d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee27e8700afaea590a843138e1e9799d">&#9670;&nbsp;</a></span>InverseKinematics() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI bool InverseKinematics </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Qinit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d19/struct_rigid_body_dynamics_1_1_inverse_kinematics_constraint_set.html">InverseKinematicsConstraintSet</a> &amp;&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Qres</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00855">855</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00389">InverseKinematicsConstraintSet::body_ids</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00390">InverseKinematicsConstraintSet::body_points</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00699">RigidBodyDynamics::CalcAngularVelocityfromMatrix()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00157">RigidBodyDynamics::CalcBodyToBaseCoordinates()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00222">RigidBodyDynamics::CalcBodyWorldOrientation()</a>, <a class="el" href="../../d4/d22/rbdl__utils_8cc_source.html#l00190">RigidBodyDynamics::Utils::CalcCenterOfMass()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00308">RigidBodyDynamics::CalcPointJacobian6D()</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00393">InverseKinematicsConstraintSet::constraint_row_index</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00388">InverseKinematicsConstraintSet::constraint_type</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00394">InverseKinematicsConstraintSet::constraint_weight</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00366">InverseKinematicsConstraintSet::ConstraintTypeFull</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00365">InverseKinematicsConstraintSet::ConstraintTypeOrientation</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00364">InverseKinematicsConstraintSet::ConstraintTypePosition</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00369">InverseKinematicsConstraintSet::ConstraintTypePositionCoMXY</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00367">InverseKinematicsConstraintSet::ConstraintTypePositionXY</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00368">InverseKinematicsConstraintSet::ConstraintTypePositionZ</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00385">InverseKinematicsConstraintSet::delta_q_norm</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00376">InverseKinematicsConstraintSet::e</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00384">InverseKinematicsConstraintSet::error_norm</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00375">InverseKinematicsConstraintSet::G</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00374">InverseKinematicsConstraintSet::J</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00379">InverseKinematicsConstraintSet::lambda</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00381">InverseKinematicsConstraintSet::max_steps</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00171">MX_Xd_dynamic::norm()</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00378">InverseKinematicsConstraintSet::num_constraints</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00380">InverseKinematicsConstraintSet::num_steps</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00103">MX_Xd_dynamic::size()</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00382">InverseKinematicsConstraintSet::step_tol</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00392">InverseKinematicsConstraintSet::target_orientations</a>, <a class="el" href="../../d0/dee/_kinematics_8h_source.html#l00391">InverseKinematicsConstraintSet::target_positions</a>, <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00159">MX_Xd_dynamic::transpose()</a>, <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">RigidBodyDynamics::UpdateKinematicsCustom()</a>, and <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00052">MX_Xd_dynamic::Zero()</a>.</p>

</div>
</div>
<a id="ga0d31fd661b541e25d45f950189928964" name="ga0d31fd661b541e25d45f950189928964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d31fd661b541e25d45f950189928964">&#9670;&nbsp;</a></span>UpdateKinematics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI void UpdateKinematics </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>QDDot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates and computes velocities and accelerations of the bodies. </p>
<p >This function updates the kinematic variables such as body velocities and accelerations in the model to reflect the variables passed to this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the model </td></tr>
    <tr><td class="paramname">Q</td><td>the positional variables of the model </td></tr>
    <tr><td class="paramname">QDot</td><td>the generalized velocities of the joints </td></tr>
    <tr><td class="paramname">QDDot</td><td>the generalized accelerations of the joints </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00025">25</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00108">MX_Xd_dynamic::block()</a>, <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00403">RigidBodyDynamics::Math::crossm()</a>, and <a class="el" href="../../d2/d03/_joint_8cc_source.html#l00049">RigidBodyDynamics::jcalc()</a>.</p>

</div>
</div>
<a id="ga86477e3d5ad2147abced4323f349c549" name="ga86477e3d5ad2147abced4323f349c549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86477e3d5ad2147abced4323f349c549">&#9670;&nbsp;</a></span>UpdateKinematicsCustom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RBDL_DLLAPI void UpdateKinematicsCustom </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *&#160;</td>
          <td class="paramname"><em>QDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">Math::VectorNd</a> *&#160;</td>
          <td class="paramname"><em>QDDot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selectively updates model internal states of body positions, velocities and/or accelerations. </p>
<p >This function updates the kinematic variables such as body velocities and accelerations in the model to reflect the variables passed to this function.</p>
<p >In contrast to <a class="el" href="../../de/d92/group__kinematics__group.html#ga0d31fd661b541e25d45f950189928964" title="Updates and computes velocities and accelerations of the bodies.">UpdateKinematics()</a> this function allows to update the model state with values one is interested and thus reduce computations (e.g. only positions, only positions + accelerations, only velocities, etc.).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the model </td></tr>
    <tr><td class="paramname">Q</td><td>the positional variables of the model </td></tr>
    <tr><td class="paramname">QDot</td><td>the generalized velocities of the joints </td></tr>
    <tr><td class="paramname">QDDot</td><td>the generalized accelerations of the joints </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/de5/_kinematics_8cc_source.html#l00078">78</a> of file <a class="el" href="../../d4/de5/_kinematics_8cc_source.html">Kinematics.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00108">MX_Xd_dynamic::block()</a>, <a class="el" href="../../d4/d41/_spatial_algebra_operators_8h_source.html#l00403">RigidBodyDynamics::Math::crossm()</a>, <a class="el" href="../../d2/d03/_joint_8cc_source.html#l00049">RigidBodyDynamics::jcalc()</a>, and <a class="el" href="../../d2/d41/_m_x___xd__dynamic_8h_source.html#l00052">MX_Xd_dynamic::Zero()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jul 20 2022 11:46:36 for Rigid Body Dynamics Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
