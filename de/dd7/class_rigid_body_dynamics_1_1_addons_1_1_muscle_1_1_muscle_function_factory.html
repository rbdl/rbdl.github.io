<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rigid Body Dynamics Library: MuscleFunctionFactory Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Rigid Body Dynamics Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">MuscleFunctionFactory Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/d74/_muscle_function_factory_8h_source.html">MuscleFunctionFactory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab90edd9459d8c219feb037381b407184"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab90edd9459d8c219feb037381b407184">createFiberActiveForceLengthCurve</a> (double lce0, double lce1, double lce2, double lce3, double minActiveForceLengthValue, double plateauSlope, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry ::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:ab90edd9459d8c219feb037381b407184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057f12674698e58a0d0e23caf317da2f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a057f12674698e58a0d0e23caf317da2f">createFiberForceVelocityCurve</a> (double fmaxE, double dydxC, double dydxNearC, double dydxIso, double dydxE, double dydxNearE, double concCurviness, double eccCurviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:a057f12674698e58a0d0e23caf317da2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace2d8c279b580d244472f2801d3e7cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#aace2d8c279b580d244472f2801d3e7cb">createFiberForceVelocityInverseCurve</a> (double fmaxE, double dydxC, double dydxNearC, double dydxIso, double dydxE, double dydxNearE, double concCurviness, double eccCurviness, const std::string &amp;muscleName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:aace2d8c279b580d244472f2801d3e7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e7ad751c2e1055894c244d1ba5b96e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab9e7ad751c2e1055894c244d1ba5b96e">createFiberCompressiveForcePennationCurve</a> (double phi0, double kiso, double curviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:ab9e7ad751c2e1055894c244d1ba5b96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea5c06a0cf1af53ad1a51c7c0fe8c254"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#aea5c06a0cf1af53ad1a51c7c0fe8c254">createFiberCompressiveForceCosPennationCurve</a> (double cosPhi0, double kiso, double curviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:aea5c06a0cf1af53ad1a51c7c0fe8c254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5888ffe20a35ced41ceb43c0ad2f1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a7b5888ffe20a35ced41ceb43c0ad2f1a">createFiberCompressiveForceLengthCurve</a> (double l0, double kiso, double curviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:a7b5888ffe20a35ced41ceb43c0ad2f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b1c3c423efdd34b64b47fb70bb09cf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a58b1c3c423efdd34b64b47fb70bb09cf">createFiberForceLengthCurve</a> (double eZero, double eIso, double kLow, double kIso, double curviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:a58b1c3c423efdd34b64b47fb70bb09cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af881f061dedc3ca809b515a9fd8d8d5d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#af881f061dedc3ca809b515a9fd8d8d5d">createTendonForceLengthCurve</a> (double eIso, double kIso, double fToe, double curviness, const std::string &amp;curveName, <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;smoothSegmentedFunctionToUpdate)</td></tr>
<tr class="separator:af881f061dedc3ca809b515a9fd8d8d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../de/d74/_muscle_function_factory_8h_source.html#l00156">156</a> of file <a class="el" href="../../de/d74/_muscle_function_factory_8h_source.html">MuscleFunctionFactory.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab90edd9459d8c219feb037381b407184" name="ab90edd9459d8c219feb037381b407184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90edd9459d8c219feb037381b407184">&#9670;&nbsp;</a></span>createFiberActiveForceLengthCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberActiveForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minActiveForceLengthValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>plateauSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RigidBodyDynamics::Addons::Geometry ::SmoothSegmentedFunction &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This is a function that will produce a C2 (continuous to the second derivative) active force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lce0</td><td>Normalized fiber length at the left-most shoulder of the active force-length curve. The value of the active force length curve for lce &lt; lce0 will be equal to the value set in shoulderVal. Normally lce0 is approximately 0.5</td></tr>
    <tr><td class="paramname">lce1</td><td>Normalized fiber length at the transition point between the ascending limb and the plateau region of the active force length curve.</td></tr>
    <tr><td class="paramname">lce2</td><td>Normalized fiber length at the maximum active force length curve value of 1. Normally lce2 is by definition 1.</td></tr>
    <tr><td class="paramname">lce3</td><td>Normalized fiber length of the at the right most shoulder of the active-force length curve. The value of the active force length curve for lce &gt; lce2 will be equal to the value of shoulderVal. Normally lce3 is approximately 1.5</td></tr>
    <tr><td class="paramname">minActiveForceLengthValue</td><td>The minimum value of the active force length curve. A physiological non-equibrium muscle model would have this value set to 0. An equilibrium muscle model would have a non-zero lower bound on this value of 0.1 typically. shoulderVal must be greater than, or equal to 0.</td></tr>
    <tr><td class="paramname">plateauSlope</td><td>The slope of the plateau of the active force length curve between lce1 and lce2. This parameter can vary depending on the muscle model, but a value of 0.8616 is a good place to start.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). A value of 0 will yield an active force length curve that is composed of slightly curved line segments. A value of 1 will yield an active force length curve that is smoothly rounded.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberActiveForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>if</b> these conditions aren't met -0 &lt; lce0 &lt; lce1 &lt; lce2 &lt; lce3 -shoulderVal &gt;= 0 -0 &lt;= plateauSlope &lt; (1/(lce3-lce2)) -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_falCurve.png" alt=""/>
</div>
<p ><b>Conditions:</b></p>
<p ><b>Computational Costs</b> </p><pre class="fragment">~20,500 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> lce0 = 0.5;</div>
<div class="line"><span class="keywordtype">double</span> lce1 = 0.75;</div>
<div class="line"><span class="keywordtype">double</span> lce2 = 1;</div>
<div class="line"><span class="keywordtype">double</span> lce3 = 1.5;</div>
<div class="line"><span class="keywordtype">double</span> shoulderVal  = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> plateauSlope = 0.75;</div>
<div class="line"><span class="keywordtype">double</span> curviness  = 0.9;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberfalCurve = SmoothSegmentedFunction();</div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab90edd9459d8c219feb037381b407184">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab90edd9459d8c219feb037381b407184">  createFiberActiveForceLengthCurve</a>(lce0, lce1, lce2, lce3, </div>
<div class="line">      shoulderVal, plateauSlope, curviness,<span class="stringliteral">&quot;test&quot;</span>, fiberfalCurve);  </div>
<div class="line">fiberfalCurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_ab90edd9459d8c219feb037381b407184"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab90edd9459d8c219feb037381b407184">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberActiveForceLengthCurve</a></div><div class="ttdeci">static void createFiberActiveForceLengthCurve(double lce0, double lce1, double lce2, double lce3, double minActiveForceLengthValue, double plateauSlope, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry ::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aea5c06a0cf1af53ad1a51c7c0fe8c254" name="aea5c06a0cf1af53ad1a51c7c0fe8c254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea5c06a0cf1af53ad1a51c7c0fe8c254">&#9670;&nbsp;</a></span>createFiberCompressiveForceCosPennationCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberCompressiveForceCosPennationCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cosPhi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This element will generate a C2 continuous (continuous to the 2nd derivative) compressive force profile curve as a function of cos(pennation).</p>
<p >A muscle model with this element usually places this element in line with the tendon. The main function of this element is to prevent the fiber from achieving a pennation angle of pi/2 radians. This type of element is necessary for a parallelogram pennated muscle models because without it, the muscle model can deform to the point where a pennation angle of pi/2 radians is reached, which causes a singularity in the model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cosPhi0</td><td>The cosine of the pennation angle at which the compressive force element starts to engage. When the cos of the pennation angle is greater than cosPhi0, the compressive element generates no force. When cos of the pennation angle is less than cosPhi0, the compressive element generates a compressive force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when cosPhi is zero. This parameter must be negative cos </td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForceCosPennationCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met: -0 &lt; cosPhi0 -kiso &gt; 1/(cosPhi0) -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fcCosPhiCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~4,100 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> cosPhi0 = <a class="code hl_function" href="../../d8/dcc/namespacestd.html#a8215b7b86388a677af7cd4f12cc32a67">cos</a>( (80.0/90.0)*SimTK::Pi/2);</div>
<div class="line"><span class="keywordtype">double</span> kiso  = -1.2/(cosPhi0);</div>
<div class="line"><span class="keywordtype">double</span> c   = 0.5;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberCECosPhiCurve = <a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#aea5c06a0cf1af53ad1a51c7c0fe8c254">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#aea5c06a0cf1af53ad1a51c7c0fe8c254">createFiberCompressiveForceCosPennationCurve</a>(cosPhi0,kiso,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberCEPhiCurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_aea5c06a0cf1af53ad1a51c7c0fe8c254"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#aea5c06a0cf1af53ad1a51c7c0fe8c254">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberCompressiveForceCosPennationCurve</a></div><div class="ttdeci">static void createFiberCompressiveForceCosPennationCurve(double cosPhi0, double kiso, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
<div class="ttc" id="anamespacestd_html_a8215b7b86388a677af7cd4f12cc32a67"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#a8215b7b86388a677af7cd4f12cc32a67">std::cos</a></div><div class="ttdeci">MX_Xd_scalar cos(const MX_Xd_scalar &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/_m_x___xd__utils_8h_source.html#l00351">MX_Xd_utils.h:351</a></div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a7b5888ffe20a35ced41ceb43c0ad2f1a" name="a7b5888ffe20a35ced41ceb43c0ad2f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b5888ffe20a35ced41ceb43c0ad2f1a">&#9670;&nbsp;</a></span>createFiberCompressiveForceLengthCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberCompressiveForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>l0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This element will generate a C2 continous (continuous to the second derivative) curve that models a compressive force profile that is a function of fiber length. The main function of this element is to prevent the fiber from achieving an unrealistically short length. This type of element is necessary for equilibrium-type muscle models because of the editing that is done to the active force length curve that endows an equilibrium model fiber with the ability to to generate force when a physiological fiber cannot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l0</td><td>The normalized fiber length at which the compressive element starts to engage. When the fiber is shorter than l0, the compressive element is generating a force. When the fiber length is longer than l0, the compressive element generates no force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when the fiber has a length of 0, under a load of 1 maximum isometric unit of force.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -e0 &gt; 0 -kiso &gt; 1/(e0) -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fpeCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~4,100 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> lmax = 0.6;</div>
<div class="line"><span class="keywordtype">double</span> kiso = -8.389863790885878;</div>
<div class="line"><span class="keywordtype">double</span> c  = 0.1;<span class="comment">//0.0;</span></div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberCECurve = <a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a7b5888ffe20a35ced41ceb43c0ad2f1a">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a7b5888ffe20a35ced41ceb43c0ad2f1a">createFiberCompressiveForceLengthCurve</a>(lmax,kiso,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberCECurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_a7b5888ffe20a35ced41ceb43c0ad2f1a"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a7b5888ffe20a35ced41ceb43c0ad2f1a">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberCompressiveForceLengthCurve</a></div><div class="ttdeci">static void createFiberCompressiveForceLengthCurve(double l0, double kiso, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ab9e7ad751c2e1055894c244d1ba5b96e" name="ab9e7ad751c2e1055894c244d1ba5b96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e7ad751c2e1055894c244d1ba5b96e">&#9670;&nbsp;</a></span>createFiberCompressiveForcePennationCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberCompressiveForcePennationCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>phi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This element will generate a C2 continuous (continuous to the 2nd derivative) compressive force profile curve as a function of pennation. A muscle model with this element usually places this element parallel to the fiber.The main function of this element is to prevent the fiber from achieving a pennation angle of pi/2 radians. This type of element is necessary for a parallelogram pennated equilibrium muscle models because without it, the muscle model can deform to the point where a pennation angle of pi/2 radians is reached, which causes a singularity in the model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phi0</td><td>The pennation angle at which the compressive force element starts to engage . When the pennation angle is greater than phi0, the compressive element is generating a force. When the pennation angle is less than phi0, the compressive element generates no force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when the fiber is pennated by 90 degrees</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForcePennationCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -0 &lt; phi0 &lt; SimTK::Pi/2 -kiso &gt; 1/(SimTK::Pi/2-phi0) -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fcphiCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~4,100 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> phi0 = (SimTK::Pi/2)*(8.0/9.0);</div>
<div class="line"><span class="keywordtype">double</span> kiso = 8.389863790885878;</div>
<div class="line"><span class="keywordtype">double</span> c  = 0.0;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberCEPhiCurve = SmoothSegmentedFunction();</div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab9e7ad751c2e1055894c244d1ba5b96e">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab9e7ad751c2e1055894c244d1ba5b96e">createFiberCompressiveForcePennationCurve</a>(phi0,kiso,c,<span class="stringliteral">&quot;test&quot;</span>,fiberCEPhiCurve);</div>
<div class="line">fiberCEPhiCurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_ab9e7ad751c2e1055894c244d1ba5b96e"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#ab9e7ad751c2e1055894c244d1ba5b96e">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberCompressiveForcePennationCurve</a></div><div class="ttdeci">static void createFiberCompressiveForcePennationCurve(double phi0, double kiso, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a58b1c3c423efdd34b64b47fb70bb09cf" name="a58b1c3c423efdd34b64b47fb70bb09cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b1c3c423efdd34b64b47fb70bb09cf">&#9670;&nbsp;</a></span>createFiberForceLengthCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eZero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function will generate a C2 continuous curve that fits a fiber's tensile force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eZero</td><td>The fiber strain at which the fiber begins to develop force. Thus an e0 of 0.0 means that the fiber will start to develop passive force when it has a normalized length of 1.0. Note that e0 can be postive or negative.</td></tr>
    <tr><td class="paramname">eIso</td><td>The fiber strain at which the fiber develops 1 unit of normalized force (1 maximum isometric force). Note that the '1' is left off. Thus an e0 of 0.6 means that the fiber will develop an 1 normalized force unit when it is strained by 60% of its resting length, or to a normalized length of 1.6</td></tr>
    <tr><td class="paramname">kLow</td><td>The normalized stiffness (or slope) of the fiber curve close to the location where the force-length curve approaches a normalized force of 0. This is usually chosen to be a small, but non-zero fraction of kIso (kLow = 0.025 kIso is typical).</td></tr>
    <tr><td class="paramname">kIso</td><td>The normalized stiffness (or slope) of the fiber curve when the fiber is strained by eIso (or has a length of 1+eIso) under a load of 1 maximum isometric unit of force.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -eIso &gt; eZero <br  />
 -kIso &gt; 1/(eIso-eZero) -0 &lt; kLow &lt; kIso -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fcLengthCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~4,100 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> eIso  = 0.6;</div>
<div class="line"><span class="keywordtype">double</span> eZero   = 0.0;</div>
<div class="line"><span class="keywordtype">double</span> kIso  = 4.0/(eIso-eZero);</div>
<div class="line"><span class="keywordtype">double</span> kNearZero = 0.025*kIso</div>
<div class="line"><span class="keywordtype">double</span> c   = 0.5;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberFLCurve </div>
<div class="line">= <a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a58b1c3c423efdd34b64b47fb70bb09cf">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a58b1c3c423efdd34b64b47fb70bb09cf">createFiberForceLengthCurve</a>(eZero, eIso,</div>
<div class="line">    kLow, kIso, c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberFLCurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_a58b1c3c423efdd34b64b47fb70bb09cf"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a58b1c3c423efdd34b64b47fb70bb09cf">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberForceLengthCurve</a></div><div class="ttdeci">static void createFiberForceLengthCurve(double eZero, double eIso, double kLow, double kIso, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a057f12674698e58a0d0e23caf317da2f" name="a057f12674698e58a0d0e23caf317da2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057f12674698e58a0d0e23caf317da2f">&#9670;&nbsp;</a></span>createFiberForceVelocityCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberForceVelocityCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fmaxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>concCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eccCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function will generate a C2 continous (continuous to the second derivative) force velocity curve of a single muscle fiber. The main function of this element is to model the amount the force enhancement or attenuation that is associated with contracting at a particular velocity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmaxE</td><td>The normalized maximum force the fiber can generate when is being stretched. This value is reported to range between 1.1 and 1.8 in the literature, though all values are above 1.</td></tr>
    <tr><td class="paramname">dydxC</td><td>The slope of the fv(dlce(t)/dt) curve at the maximum normalized concentric contraction velocity. Although physiologically the value of dydxC at the maximum concentric contracton velocity is by definition 0, a value of 0 is often used. If you are using an equilbrium type model this term must be positive and greater than zero so that the fv curve can be inverted. <br  />
<br  />
 Minimum Value: 0 Maximum Value: dydxC &lt; 1 <br  />
<br  />
</td></tr>
    <tr><td class="paramname">dydxNearC</td><td>The slope of the force velocity curve as it approaches the maximum concentric (shortening) contraction velocity. <br  />
<br  />
 Minimum Value: &gt; dydxC Maximum Value: dydxNearC &lt; 1 <br  />
<br  />
</td></tr>
    <tr><td class="paramname">dydxIso</td><td>The slope of the fv curve when dlce(t)/dt = 0. <br  />
<br  />
 Minimim Value: dydxIso &gt; 1.0 Maximum Value: dydxIso &lt; Inf</td></tr>
    <tr><td class="paramname">dydxE</td><td>The analogous term of dydxC parameter but for the eccentric portion of the force-velocity curve. As with the dydxC term, the physiologically accurate value for this parameter is 0, though a value of 0 is rarely used in muscle models. If you are using an equilbrium type model this term must be positive and greater than zero so that the fv curve can be inverted. <br  />
<br  />
 Minimum Value: 0 Maximum Value: dydxC &lt; (fmaxE-1). <br  />
<br  />
 As with the dydxC term, the size of this term also affects the stiffness of the integration problem for equilibrium-type muscle models: the closer to zero this term is, the stiffer the model will be (but only when (dlce(t)/dt)/vmax approaches 1.</td></tr>
    <tr><td class="paramname">dydxNearE</td><td>The slope of the force velocity curve as it approaches the maximum eccentric (lengthening) contraction velocity. <br  />
<br  />
 Minimum Value: &gt; dydxE Maximum Value: dydxNearE &lt; (fmaxE-1) <br  />
<br  />
</td></tr>
    <tr><td class="paramname">concCurviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). This parameter affects only the concentric side of the fv curve.</td></tr>
    <tr><td class="paramname">eccCurviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). This parameter affects only the eccentric side of the fv curve.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberForceVelocityCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> these conditions are met <br  />
 -0 &lt;= dydxC &lt; 1 -dydxC &lt; dydxNearC &lt; 1 -1 &lt; dydxIso -dydxE &lt; (fmaxE-1) -dydxE &lt; dydxNearC &lt; (fmaxE-1) -0&lt;= concCurviness &lt;=0 -0 &lt;= eccCurviness &lt;= 0</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fvCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~8,200 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> fmaxE = 1.8;</div>
<div class="line"><span class="keywordtype">double</span> dydxC = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> dydxNearC = 0.25;</div>
<div class="line"><span class="keywordtype">double</span> dydxE = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> dydxNearE = 0.15;</div>
<div class="line"><span class="keywordtype">double</span> dydxIso= 5;</div>
<div class="line"><span class="keywordtype">double</span> concCurviness = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> eccCurviness = 0.75;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction fiberFVCurve = SmoothSegmentedFunction();</div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a057f12674698e58a0d0e23caf317da2f">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a057f12674698e58a0d0e23caf317da2f">  createFiberForceVelocityCurve</a>(fmaxE, </div>
<div class="line">    dydxC, dydxNearC, dydxIso, dydxE, dydxNearE,</div>
<div class="line">    concCurviness,  eccCurviness,<span class="stringliteral">&quot;test&quot;</span>, fiberFVCurve);</div>
<div class="line">fiberFVCurve.printCurveToFile();</div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_a057f12674698e58a0d0e23caf317da2f"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#a057f12674698e58a0d0e23caf317da2f">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createFiberForceVelocityCurve</a></div><div class="ttdeci">static void createFiberForceVelocityCurve(double fmaxE, double dydxC, double dydxNearC, double dydxIso, double dydxE, double dydxNearE, double concCurviness, double eccCurviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aace2d8c279b580d244472f2801d3e7cb" name="aace2d8c279b580d244472f2801d3e7cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace2d8c279b580d244472f2801d3e7cb">&#9670;&nbsp;</a></span>createFiberForceVelocityInverseCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createFiberForceVelocityInverseCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fmaxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>concCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eccCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>muscleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function will generate a C2 continuous (continuous to the 2nd derivative) inverse curve that the function createFiberForceVelocityCurve generates. The inverse force velocity curve is required by every equilibrium muscle model in order to compute the derivative of fiber velocity. To generate the inverse force velocity curve simply call this function with EXACTLY the same parameter values that you used to generate the force velocity curve. See the parameter descriptions for createFiberForceVelocityCurve, as the parameters for the inverse function are identical. The curve name should be different, however, because this is an inverse curve (e.g. "bicep_fiberForceVelocityInverseCurve")</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fvInvCurve.png" alt=""/>
</div>
 
</div>
</div>
<a id="af881f061dedc3ca809b515a9fd8d8d5d" name="af881f061dedc3ca809b515a9fd8d8d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af881f061dedc3ca809b515a9fd8d8d5d">&#9670;&nbsp;</a></span>createTendonForceLengthCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createTendonForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fToe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>smoothSegmentedFunctionToUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Will generate a C2 continous (continuous to the second derivative) curve in a MuscleFunctionObject object that fits a tendon's tensile force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eIso</td><td>The tendon strain at which the tendon develops 1 unit of normalized force (1 maximum isometric force). Note that the'1' is left off. Thus an e0 of 0.04 means that the tendon will develop an 1 normalized force unit when it is strained by 4% of its resting length, at a normalized length of 1.04</td></tr>
    <tr><td class="paramname">kIso</td><td>The normalized stiffness (or slope) of the tendon curve when the tendon is strained by e0 (or has a length of 1+e0) under a load of 1 maximum isometric unit of force. <br  />
</td></tr>
    <tr><td class="paramname">fToe</td><td>The normalized force at which the tendon smoothly transitions from the curved low stiffness region to the linear stiffness region.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_tendonForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
    <tr><td class="paramname">smoothSegmentedFunctionToUpdate</td><td>A SmoothSegmentedFunction object that will be erased and filled with the coefficients that are defined by this curve.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met: -0 &lt; fToe &lt; 1 -e0 &gt; 0 -kiso &gt; 1/e0 -0 &lt;= curviness &lt;= 1</p>
<div class="image">
<img src="../../fig_MuscleAddon_MuscleFunctionFactory_fseCurve.png" alt=""/>
</div>
<p ><b>Computational Costs</b> </p><pre class="fragment">~4,100 flops
</pre><p ><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> e0   = 0.04;</div>
<div class="line"><span class="keywordtype">double</span> kiso = 42.79679348815859;</div>
<div class="line"><span class="keywordtype">double</span> fToe = 1.0/3.0</div>
<div class="line"><span class="keywordtype">double</span> c  = 0.75;</div>
<div class="line"> </div>
<div class="line">SmoothSegmentedFunction* tendonCurve = <a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#af881f061dedc3ca809b515a9fd8d8d5d">MuscleFunctionFactory::</a></div>
<div class="line"><a class="code hl_function" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#af881f061dedc3ca809b515a9fd8d8d5d">    createTendonForceLengthCurve</a>(</div>
<div class="line">      e0,kiso,fToe,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">tendonCurve.printCurveToFile();  </div>
<div class="ttc" id="aclass_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory_html_af881f061dedc3ca809b515a9fd8d8d5d"><div class="ttname"><a href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html#af881f061dedc3ca809b515a9fd8d8d5d">RigidBodyDynamics::Addons::Muscle::MuscleFunctionFactory::createTendonForceLengthCurve</a></div><div class="ttdeci">static void createTendonForceLengthCurve(double eIso, double kIso, double fToe, double curviness, const std::string &amp;curveName, RigidBodyDynamics::Addons::Geometry::SmoothSegmentedFunction &amp;smoothSegmentedFunctionToUpdate)</div></div>
</div><!-- fragment --> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>addons/muscle/<a class="el" href="../../de/d74/_muscle_function_factory_8h_source.html">MuscleFunctionFactory.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d16/namespace_rigid_body_dynamics.html">RigidBodyDynamics</a></li><li class="navelem"><a class="el" href="../../d6/db6/namespace_rigid_body_dynamics_1_1_addons.html">Addons</a></li><li class="navelem"><a class="el" href="../../dd/d32/namespace_rigid_body_dynamics_1_1_addons_1_1_muscle.html">Muscle</a></li><li class="navelem"><a class="el" href="../../de/dd7/class_rigid_body_dynamics_1_1_addons_1_1_muscle_1_1_muscle_function_factory.html">MuscleFunctionFactory</a></li>
    <li class="footer">Generated on Wed Jul 20 2022 12:57:44 for Rigid Body Dynamics Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
